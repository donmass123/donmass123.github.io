<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Adding a favicon -->
    <link rel="icon" href="https://www.iconpacks.net/icons/2/free-rocket-icon-3418-thumb.png" type="image/x-icon" />
    <title>Menambahkan Perhitungan Jatuh Tempo Sebelumnya ke Kwitansi Klasik</title>
    <link rel="stylesheet" href="../css/tutor.css" />
    <link rel="stylesheet" href="../css/modal.css" />
    <link rel="stylesheet" href="../css/sidebar.css" />
    <link rel="stylesheet" href="../css/bubble.css" />
    <link rel="stylesheet" href="../css/complete.css" />
    <link rel="stylesheet" href="../css/tree.css" />


</head>

<body>
    <!-- Modal Password -->
    <div id="passwordModal" class="completion-modal">
        <div class="completion-modal-content">
            <span class="completion-close" id="closePasswordModal">&times;</span>
            <h3>ğŸ” Masukkan Password</h3>
            <input type="password" id="tutorialPassword" placeholder="Password..." class="completion-input" />
            <div class="completion-button-group">
                <button id="submitPassword" class="completion-btn completion-yes-btn">
                    Akses
                </button>
            </div>
            <p id="passwordError" style="display: none; color: #dc3545; margin-top: 1rem">
                âŒ Password salah!
            </p>
        </div>
    </div>
    <div class="blur-wrapper">
        <div class="container">
            <header>
                <h1>
                    Menambahkan Perhitungan Jatuh Tempo Sebelumnya ke Kwitansi Klasik
                </h1>
                <h1>ğŸ“…â”ğŸ’³</h1>
                <h5>
                    menyertakan informasi mengenai perhitungan atau status pembayaran yang
                    sudah jatuh tempo sebelumnya ke dalam kwitansi atau struk pembayaran
                    yang menggunakan format atau metode klasik (tradisional). Misalnya,
                    jika ada pembayaran yang tertunda atau jatuh tempo dari periode
                    sebelumnya, informasi tersebut akan dihitung atau ditampilkan dalam
                    kwitansi yang baru, sehingga memberi gambaran lengkap tentang status
                    pembayaran sebelumnya dan jumlah yang harus dibayar.
                </h5>
            </header>
            <!-- HOME -->
            <div class="home-button-wrapper">
                <a href="../main.html" class="home-button">ğŸ  Kembali ke Beranda</a>
            </div>

            <div class="toc-dropdown-wrapper">
                <label for="toc-dropdown" class="toc-icon">
                    <strong>Daftar Isi</strong>
                </label>
                <select id="toc-dropdown" class="toc-dropdown">
                    <!-- Otomatis diisi JS -->
                </select>
            </div>

            <section>
                <h2>Ringkasan</h2>
                <p>
                    Panduan ini memberikan solusi frontend cepat untuk menampilkan jumlah
                    "Jatuh Tempo Sebelumnya" di struk POS tanpa mengubah utilitas
                    transaksi backend. Perbaikan ini menghitung dan menampilkan jumlah
                    jatuh tempo sebelumnya dengan mengurangkan jumlah jatuh tempo saat ini
                    dari jumlah semua jatuh tempo.
                </p>
                <h2>Prasyarat</h2>
                <ul>
                    <li>Pengetahuan dasar tentang templat Laravel Blade</li>
                    <li>Akses ke file Database</li>
                </ul>
                <h2>Pernyataan Masalah</h2>
                <p>
                    Template tanda terima tidak menampilkan rincian jumlah jatuh tempo
                    sebelumnya secara terpisah dari jumlah total jatuh tempo. Perbaikan
                    ini menambahkan item baris "Sebelumnya Jatuh Tempo" yang menunjukkan
                    perbedaan antara total jatuh tempo (semua penjualan) dan jatuh tempo
                    penjualan saat ini.
                </p>
                <h2>Ikhtisar Solusi</h2>
                <p>Perbaikan ini melibatkan:</p>
                <ul>
                    <li>
                        Menambahkan logika penghitungan PHP untuk menghitung jatuh tempo
                        sebelumnya
                    </li>
                    <li>
                        Menampilkan jumlah jatuh tempo sebelumnya di templat tanda terima
                    </li>
                    <li>Menggunakan sintaksis Laravel Blade untuk rendering bersyarat</li>
                </ul>
            </section>
            <section>
                <h2>Struktur File</h2>
                <ul class="tree">
                    <li>
                        <details open>
                            <summary>ğŸ“ POS</summary>
                            <ul class="tree">
                                <li>
                                    <details open>
                                        <summary>ğŸ“ resources</summary>
                                        <ul class="tree">
                                            <li>
                                                <details>
                                                    <summary>ğŸ“ views</summary>
                                                    <ul class="tree">
                                                        <li>
                                                            <details>
                                                                <summary>ğŸ“ sale_pos</summary>
                                                                <ul class="tree">
                                                                    <li>
                                                                        <details>
                                                                            <summary>ğŸ“ receipts</summary>
                                                                            <ul class="tree">
                                                                                <li class="file">
                                                                                     classic.blade.php
                                                                                    <span class="tag">search</span>
                                                                                    <ul class="tree">
                                                                                        <li>$receipt_details-&gt;total_due
                                                                                            <span
                                                                                                class="tag">L430-L452</span>
                                                                                        </li>
                                                                                    </ul>
                                                                                </li>
                                                                            </ul>
                                                                        </details>
                                                                    </li>
                                                                </ul>
                                                            </details>
                                                        </li>
                                                    </ul>
                                                </details>
                                            </li>
                                            <li>
                                                <details>
                                                    <summary>ğŸ“ lang</summary>
                                                    <ul class="tree">
                                                        <li>
                                                            <details>
                                                                <summary>ğŸ“ en</summary>
                                                                <ul class="tree">
                                                                    <li class="file">
                                                                         lang_v1.php
                                                                        <span class="tag">update</span>
                                                                        <span class="tag">opsional</span>
                                                                    </li>
                                                                </ul>
                                                            </details>
                                                        </li>
                                                    </ul>
                                                </details>
                                            </li>
                                        </ul>
                                    </details>
                                </li>
                            </ul>
                        </details>
                    </li>
                </ul>

            </section>

            <section>
                <h2>Implementasi Langkah-demi-Langkah</h2>
            </section>

            <section>
                <h2>Langkah 1: Temukan Templat Tanda Terima</h2>
                <p>Navigasikan ke file templat tanda terima Classic:</p>
                <p>
                    <strong>resources/views/sale_pos/receipts/classic.blade.php</strong>
                </p>
            </section>

            <section>
                <h2>Langkah 2: Temukan Target Section</h2>
                <p>
                    Cari bagian yang berisi <strong>$receipt_details->total_due</strong>.
                    Bagian ini biasanya ditemukan di tabel ringkasan pembayaran/tunggakan
                    di sekitar baris <strong>430-452</strong>.
                </p>
                <p>Anda akan menemukan struktur yang mirip dengan:</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/langkah2.txt">
                        $receipt_details->total_due
                    </button>
                </div>
            </section>

            <section>
                <h2>Langkah 3: Tambahkan Logika Perhitungan PHP</h2>
                <p>
                    Masukkan blok kode PHP berikut ini <strong>sebelum</strong> bagian
                    jumlah yang harus dibayar:
                </p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/langkah3.txt">
                        PHP Calculation Logic
                    </button>
                </div>
            </section>

            <section>
                <h2>Langkah 4: Tambahkan Tampilan Jatuh Tempo Sebelumnya</h2>
                <p>
                    Tambahkan kode HTML/Blade ini di <strong>antara</strong> blok "Total
                    Jatuh Tempo" dan "Semua Jatuh Tempo":
                </p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/langkah4.txt">
                        Previous Due Display
                    </button>
                </div>
            </section>

            <section>
                <h2>Langkah 5: Implementasi Lengkap</h2>
                <p>Struktur kode akhir Anda akan terlihat seperti ini:</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/langkah5.txt">
                        Implementasi Lengkap
                    </button>
                </div>
                <div class="image-box">
                    <img src="https://ultimate-pos-tutorials.vercel.app/assets/images/previous-due-56da1daae83f54d2b3bfa1b7efc35817.png"
                        alt="#" />
                    <p class="caption">Gambar: Implementasi Lengkap.</p>
                </div>
                <p>
                    Tanda terima yang menunjukkan jumlah Jatuh Tempo Sebelumnya yang
                    ditampilkan di antara bagian Total Jatuh Tempo dan Semua Jatuh Tempo
                </p>
            </section>

            <section>
                <h2>Alternatif: Pendekatan Satu Baris</h2>
                <p>
                    Untuk implementasi yang lebih ringkas, Anda dapat menggunakan versi
                    yang disederhanakan ini:
                </p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/alt.txt">
                        Alternatif
                    </button>
                </div>
                <p>Pendekatan satu baris ini:</p>
                <ul>
                    <li>
                        Menggabungkan penguraian mata uang dan kalkulasi ke dalam satu baris
                    </li>
                    <li>
                        Menggunakan <strong>floatval()</strong> alih-alih melakukan casting
                        ke <strong>(float)</strong>
                    </li>
                    <li>Menghilangkan kebutuhan akan fungsi terpisah</li>
                    <li>
                        Menghapus pemformatan <strong>number_format()</strong> (bergantung
                        pada kelas <strong>display_currency</strong>)
                    </li>
                </ul>
                <p>
                    <strong>tip</strong> Pilih
                    <strong>pendekatan terperinci</strong> (Langkah 5) untuk keterbacaan
                    dan pemeliharaan yang lebih baik, atau
                    <strong>pendekatan satu baris</strong> untuk jejak kode minimal.
                </p>
            </section>
            <section>
                <h2>Penjelasan Kode</h2>
                <h3>Rincian Fungsi PHP</h3>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/ce_1.txt">
                        Fungsi kode
                    </button>
                </div>
                <p>Fungsi ini:</p>
                <ul>
                    <li>
                        Menghapus semua karakter non-numerik kecuali titik dan tanda hubung
                    </li>
                    <li>
                        Mengonversi string mata uang menjadi nilai mengambang untuk
                        penghitungan
                    </li>
                </ul>
                <h3>Logika Penghitungan</h3>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/ce_2.txt">
                        Logika Penghitungan
                    </button>
                </div>
                <p>Ini perhitungannya:</p>
                <ul>
                    <li>
                        <strong>$all_due_uf</strong>: Jumlah total yang harus dibayar untuk
                        semua penjualan
                    </li>
                    <li>
                        <strong>$total_due_uf</strong>: Jumlah yang harus dibayar untuk
                        penjualan saat ini
                    </li>
                    <li>
                        <strong>$previous_due</strong>$previous_due: Jumlah jatuh tempo
                        sebelumnya (selisih)
                    </li>
                    <li>
                        <strong>$previous_due_format</strong>: Diformat untuk ditampilkan
                    </li>
                </ul>
                <h3>Hasil yang diharapkan</h3>
                <p>Setelah implementasi, tanda terima Anda akan ditampilkan:</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/recipt.txt">
                        Hasil yang diharapkan
                    </button>
                </div>
            </section>

            <section>
                <h2>Dukungan Multi-Bahasa (Opsional)</h2>
                <p>Untuk menambahkan dukungan multi-bahasa:</p>
                <ul>
                    <li>
                        Tambahkan entri baru di file bahasa Anda (misalnya,
                        <strong>resources/lang/en/lang_v1.php</strong>):
                        <strong>'previous_due' => 'Previous Due',</strong>
                    </li>
                    <li>
                        Mengganti teks yang dikodekan:
                        <div class="url-buttons">
                            <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/hard.txt">
                                hardcoded text
                            </button>
                        </div>
                    </li>
                </ul>
            </section>

            <section>
                <h2>Tes</h2>
                <p>Buat skenario pengujian:</p>
                <ul>
                    <li>Pelanggan dengan jumlah jatuh tempo yang sudah ada</li>
                    <li>Buat penjualan baru</li>
                    <li>Hasilkan tanda terima</li>
                </ul>
                <p>Verifikasi perhitungan:</p>
                <ul>
                    <li>Previous Due + Current Sale Due = Total Due (Semua Penjualan)</li>
                    <li>Angka harus sesuai dengan ekspektasi Anda</li>
                </ul>
                <p>Menguji kasus batas atas (edge cases):</p>
                <ul>
                    <li>Pelanggan baru (tanpa jatuh tempo sebelumnya)</li>
                    <li>Faktur yang dibayar penuh</li>
                    <li>Pembayaran sebagian</li>
                </ul>
            </section>

            <section>
                <h2>Catatan Penting</h2>
                <p><strong>Peringatan</strong></p>
                <p>
                    Ini adalah <strong>solusi frontend saja</strong> yang tidak memodifikasi utilitas
                    transaksi backend. Untuk solusi backend yang lengkap, pertimbangkan
                    untuk memodifikasi kelas utilitas transaksi.
                </p>
                <p><strong>Tip</strong></p>
                <p>Perbaikan hanya akan ditampilkan jika nilai <strong>total_due</strong> dan <strong>all_due</strong>
                    ada,
                    sehingga mencegah kesalahan pada
                    tanda terima yang tidak memiliki nilai jatuh tempo.</p>
            </section>

            <section>
                <h2>Mengatasi masalah</h2>
                <h3>Masalah Umum</h3>
                <p><strong>Previous Due menunjukkan 0.00</strong></p>
                <ul>
                    <li>Periksa apakah <code>$receipt_details->all_due</code> dan
                        <code>$receipt_details->total_due</code>
                        memiliki nilai.
                    </li>
                    <li>Verifikasi apakah fungsi <code>as_decimal()</code> mem-parsing mata uang dengan benar.</li>
                </ul>

                <h3>Kesalahan Sintaks PHP</h3>
                <ul>
                    <li>Pastikan tag <code>@php</code> dan <code>@endphp</code> digunakan dengan benar.</li>
                    <li>Periksa adanya titik koma yang hilang.</li>
                </ul>

                <h3>Masalah Format Tampilan</h3>
                <ul>
                    <li>Verifikasi apakah kelas <code>display_currency</code> tersedia.</li>
                    <li>Periksa styling CSS untuk baris tabel.</li>
                </ul>
                <h3>Langkah-Langkah Debugging</h3>
                <p>Tambahkan output debug untuk memeriksa nilai:</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/ğŸ“…â”ğŸ’³/ds.txt">
                        Langkah-Langkah Debugging
                    </button>
                </div>
            </section>

            <section>
                <h2>Solusi Backend Alternatif</h2>
                <p>Untuk solusi yang lebih tangguh, pertimbangkan:</p>
                <ul>
                    <li>Memodifikasi kelas <code>TransactionUtil</code>.</li>
                    <li>Menambahkan perhitungan <code>previous_due</code> di dalam controller.</li>
                    <li>Memperbarui struktur data kwitansi.</li>
                </ul>
                <p>Ini akan memberikan performa dan pemeliharaan yang lebih baik, namun membutuhkan perubahan yang lebih
                    mendalam.</p>
            </section>

            <section>
                <h2>Kesimpulan</h2>
                <p>Perbaikan cepat ini memberikan solusi langsung untuk menampilkan jumlah pembayaran tertunda pada
                    kwitansi
                    Ultimate POS. Meskipun solusi ini hanya di sisi frontend, ia secara efektif memenuhi kebutuhan tanpa
                    memerlukan modifikasi besar di backend.</p>
                <p>Implementasi ini kompatibel dengan versi sebelumnya dan tidak akan mempengaruhi fungsionalitas yang
                    sudah
                    ada, menjadikannya sebagai perbaikan cepat yang aman untuk penerapan segera.</p>

            </section>
            <footer>
                <!-- HOME -->
                <div class="home-button-wrapper">
                    <a href="../main.html" class="home-button">ğŸ  Kembali ke Beranda</a>
                </div>
            </footer>
        </div>
    </div>
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <iframe id="modalFrame" src="" frameborder="0" style="width: 100%; height: 400px"></iframe>
        </div>
    </div>
    <button id="bubbleUp" title="Kembali ke Atas" aria-label="Kembali ke Atas">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="none" viewBox="0 0 24 24" stroke="white">
            <path stroke-linecap="round" stroke-width="2" d="M6 15l6-6 6 6" />
        </svg>
    </button>
    <div id="completionModal" class="completion-modal">
        <div class="completion-modal-content">
            <span class="completion-close" title="Tutup">&times;</span>
            <h3>ğŸ‰ Selamat, kamu telah menyelesaikan tutorialnya!</h3>
            <p>Apakah kamu ingin mengunduh file yang telah jadi?</p>
            <div class="completion-button-group">
                <a id="completion-download-btn" data-id="file_12" class="completion-btn completion-yes-btn">
                    âœ… Ya
                </a>
                <button id="completion-no-btn" class="completion-btn completion-no-btn">
                    âŒ Tidak
                </button>
            </div>
        </div>
    </div>
    <script src="../js/scripts.js"></script>
    <script src="../js/sidebar.js"></script>
    <script src="../js/bubble.js"></script>
    <script src="../js/complete.js"></script>
    <script src="../js//Data/file_download_data.js"></script>
    <script src="../js//Data/pass_data.js"></script>

    <!-- Link ke file JavaScript -->
</body>

</html>