<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Adding a favicon -->
    <link rel="icon" href="https://www.iconpacks.net/icons/2/free-rocket-icon-3418-thumb.png" type="image/x-icon" />
    <title>Fitur Watermark POS - Panduan Implementasi Lengkap</title>
    <link rel="stylesheet" href="../css/tutor.css" />
    <link rel="stylesheet" href="../css/modal.css" />
    <link rel="stylesheet" href="../css/sidebar.css" />
    <link rel="stylesheet" href="../css/bubble.css" />
    <link rel="stylesheet" href="../css/complete.css" />
    <link rel="stylesheet" href="../css/tree.css" />
    <link rel="stylesheet" href="../css/tabel_tutor.css" />
</head>

<body>
    <!-- Modal Password -->
    <div id="passwordModal" class="completion-modal">
        <div class="completion-modal-content">
            <span class="completion-close" id="closePasswordModal">&times;</span>
            <h3>üîê Masukkan Password</h3>
            <input type="password" id="tutorialPassword" placeholder="Password..." class="completion-input" />
            <div class="completion-button-group">
                <button id="submitPassword" class="completion-btn completion-yes-btn">
                    Akses
                </button>
            </div>
            <p id="passwordError" style="display: none; color: #dc3545; margin-top: 1rem">
                ‚ùå Password salah!
            </p>
        </div>
    </div>

    <div class="blur-wrapper">
        <div class="container">
            <header>
                <h1>Fitur Watermark POS - Panduan Implementasi Lengkap</h1>
                <h1>üñºÔ∏èüí≥üìòüõ†Ô∏è</h1>
                <h5>
                    Panduan ini akan memandu Anda dalam menambahkan fitur watermark ke
                    templat faktur POS Anda, memungkinkan pengguna untuk menambahkan
                    logo kustom sebagai watermark pada faktur mereka.
                </h5>
            </header>
            <!-- HOME -->
            <div class="home-button-wrapper">
                <a href="../main.html" class="home-button">üè† Kembali ke Beranda</a>
            </div>

            <div class="toc-dropdown-wrapper">
                <label for="toc-dropdown" class="toc-icon">
                    <strong>Daftar Isi</strong>
                </label>
                <select id="toc-dropdown" class="toc-dropdown">
                    <!-- Otomatis diisi JS -->
                </select>
            </div>
            <section>
                <h2>Ringkasan</h2>
                <p>Fitur watermark memungkinkan pengguna untuk:</p>
                <ul>
                    <li>Unggah logo watermark kustom</li>
                    <li>Kendalikan visibilitas watermark (tampilkan/sembunyikan)</li>
                    <li>Sesuaikan ukuran watermark (lebar/tinggi)</li>
                    <li>Atur tingkat transparansi (opasitas)</li>
                    <li>Pilih posisi watermark (tengah, sudut)</li>
                </ul>
                <div class="image-box">
                    <img src="https://ultimate-pos-tutorials.vercel.app/assets/images/watermark-setting-57ef1e63421228c42a71e78ed0cf2e0c.png"
                        alt="#" />
                    <p class="caption">Gambar: watermark.</p>
                </div>
                <div class="image-box">
                    <img src="https://ultimate-pos-tutorials.vercel.app/assets/images/watermark-classic-d8cc603c45e4640b157daa8a6141a6d4.png"
                        alt="#" />
                    <p class="caption">Gambar: watermark.</p>
                </div>
                <h2>Prasyarat</h2>
                <ul>
                    <li>Sistem POS terinstal dan berjalan</li>
                    <li>Akses ke database dan codebase</li>
                    <li>Pengetahuan dasar tentang Laravel, PHP, dan Blade templates</li>
                </ul>
            </section>
            <section>
                <h2>Langkah 1: Database Migration</h2>

                <h3>Buat File Migrasi</h3>
                <p>
                    Buat migrasi baru untuk menambahkan kolom watermark ke tabel
                    <code>invoice_layouts</code>:
                </p>
                <strong>php artisan make:migration add_watermark_fields_to_invoice_layouts
                    --table=invoice_layouts</strong>

                <h3>Kode Migrasi</h3>
                <p>Gantilah konten migrasi yang dihasilkan dengan kode berikut:</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah1.txt">
                        php artisan make:migration add_watermark_fields_to_invoice_layouts
                        --table=invoice_layouts
                    </button>
                </div>
                <h3>Menjalankan Migrasi</h3>
                <h4>Eksekusi Migrasi</h4>
                <p>Untuk menjalankan migrasi, gunakan perintah:</p>
                <strong>php artisan migrate</strong>

                <h4>Atau Jalankan Migrasi Tertentu</h4>
                <p>
                    Jika Anda hanya ingin menjalankan migrasi tertentu, jalankan
                    perintah ini:
                </p>
                <strong>php artisan migrate
                    --path=database/migrations/2025_07_29_125312_add_watermark_fields_to_invoice_layouts.php</strong>

                <h4>Alternatif: Eksekusi SQL Langsung</h4>
                <p>
                    Jika Anda lebih memilih untuk menjalankan SQL langsung atau perlu
                    menambahkan kolom pada sistem yang sudah ada, Anda dapat menjalankan
                    perintah SQL berikut:
                </p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah1_1.txt">
                        Alternatif: Eksekusi SQL Langsung
                </div>
                <h4>Rollback SQL (Jika Diperlukan)</h4>
                <p>Untuk Menghapus Kolom Watermark</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah1_2.txt">
                        Rollback SQL (Jika Diperlukan)
                </div>
            </section>

            <section>
                <h2>Langkah 2: Update Model</h2>

                <p>Update Model InvoiceLayout</p>
                <p>Tambahkan casting untuk kolom watermark di file <code>app/InvoiceLayout.php</code> sebagai berikut:
                </p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah2.txt">
                        app/InvoiceLayout.php
                </div>
            </section>
            <section>
                <h2>Langkah 3: Update Controller</h2>

                <h4>Update Metode Store</h4>
                <p>Modifikasi metode <code>store</code> pada file
                    <strong>app/Http/Controllers/InvoiceLayoutController.php</strong> untuk menangani penyimpanan data
                    watermark:
                </p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah3_1.txt">
                        app/Http/Controllers/InvoiceLayoutController.php
                </div>
                <h4>Update Metode Update</h4>
                <p>Modifikasi metode <code>update</code> pada file
                    <strong>app/Http/Controllers/InvoiceLayoutController.php</strong> untuk menangani pembaruan data
                    watermark:
                </p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah3_2.txt">
                        app/Http/Controllers/InvoiceLayoutController.php
                </div>
            </section>
            <section>
                <h2>Langkah 4: Tambahkan String Bahasa</h2>

                <h3>Update File Bahasa</h3>
                <p>Tambahkan string terkait watermark pada file bahasa di <code>resources/lang/en/lang_v1.php</code>
                    untuk memudahkan penggunaan terjemahan di aplikasi Anda.</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah4.txt">
                        resources/lang/en/lang_v1.php
                </div>
            </section>
            <section>
                <h2>Langkah 5: Update Formulir</h2>

                <h3>Tambahkan Bagian Watermark ke Formulir Pembuatan Layout Invoice</h3>
                <p>Pada file form pembuatan layout invoice
                    (<strong>resources/views/invoice_layout/create.blade.php</strong>), tambahkan bagian pengaturan
                    watermark untuk memungkinkan pengguna mengonfigurasi watermark pada layout invoice mereka.</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah5_1.txt">
                        resources/views/invoice_layout/create.blade.php
                </div>
                <h3>Tambahkan Bagian Watermark ke Formulir Edit</h3>

                <p>Update Formulir Edit Layout Invoice</p>
                <p>Pada file formulir edit layout invoice (<strong>resources/views/invoice_layout/edit.blade.php</strong>),
                    tambahkan bagian pengaturan watermark yang memungkinkan pengguna untuk mengedit pengaturan watermark
                    yang ada.</p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah5_2.txt">
                        resources/views/invoice_layout/edit.blade.php
                </div>
            </section>
            <section>
                <h2>Langkah 6: Update Metode getReceiptDetails</h2>

                <h3>Memperbarui Metode getReceiptDetails</h3>
                <p>Untuk memperbarui metode <code>getReceiptDetails</code> di file
                    <code>app/Utils/TransactionUtil.php</code> agar menyertakan data watermark, lakukan modifikasi
                    sebagai berikut:
                </p>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah6.txt">
                        app/Utils/TransactionUtil.php
                </div>
                <h3>Menambahkan Watermark ke Semua Template</h3>
                <p>POS biasanya memiliki beberapa template struk (classic, modern, slim, dll.). Anda perlu menambahkan
                    kode watermark ke setiap template yang ingin mendukung watermark.</p>

                <h3>Lokasi Template</h3>
                <p>Lokasi template umum di POS:</p>
                <ul>
                    <li><strong>resources/views/sale_pos/receipts/classic.blade.php</strong></li>
                    <li><strong>resources/views/sale_pos/receipts/detailed.blade.php</strong></li>
                    <li><strong>resources/views/sale_pos/receipts/columnize-taxes.blade.php</strong></li>
                    <li><strong>resources/views/sale_pos/receipts/elegant.blade.php</strong></li>
                    <li><strong>Template kustom yang telah Anda buat</strong></li>
                </ul>

                <h3>Kode Watermark Universal</h3>
                <p>Tambahkan kode watermark ini ke setiap template. Penempatannya tergantung pada struktur template:</p>
                <h4>Untuk template berbasis tabel (seperti elegant):</h4>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah6_1.txt">
                        Kode Watermark Universal
                </div>
                <h4>Untuk templat berbasis div (seperti klasik):</h4>
                <div class="url-buttons">
                    <button class="view-modal-button" data-url="../tutorial/üñºÔ∏èüí≥üìòüõ†Ô∏è/langkah6_2.txt">
                        Untuk templat berbasis div (seperti klasik)
                </div>
            </section>
            <section>
                <h2>Langkah 8: Pengujian</h2>

                <h3>Uji Implementasi</h3>

                <h4>1. Akses Pengaturan Invoice</h4>
                <ul>
                    <li>Masuk ke pengaturan layout invoice Anda</li>
                    <li>Anda seharusnya melihat bagian watermark yang baru</li>
                </ul>

                <h4>2. Unggah Watermark</h4>
                <ul>
                    <li>Unggah gambar watermark</li>
                    <li>Tentukan ukuran, opasitas, dan posisi yang diinginkan</li>
                    <li>Centang checkbox "Tampilkan Watermark"</li>
                    <li>Simpan layout</li>
                </ul>

                <h4>3. Buat Invoice</h4>
                <ul>
                    <li>Buat invoice percobaan</li>
                    <li>Verifikasi apakah watermark muncul dengan pengaturan yang benar</li>
                    <li>Periksa apakah teks tetap terbaca</li>
                </ul>

                <h4>4. Uji Pengaturan yang Berbeda</h4>
                <ul>
                    <li>Coba tingkat opasitas yang berbeda (5% - 30%)</li>
                    <li>Uji posisi yang berbeda (tengah, sudut)</li>
                    <li>Sesuaikan pengaturan ukuran</li>
                    <li>Verifikasi apakah perubahan terlihat pada invoice</li>
                </ul>
            </section>

            <section>
                <h2>Langkah 9: Pemecahan Masalah</h2>

                <h3>Masalah Umum dan Solusinya</h3>

                <h4>Watermark Tidak Muncul</h4>
                <ul>
                    <li>Periksa apakah <code>show_watermark</code> diaktifkan</li>
                    <li>Verifikasi apakah file watermark ada di <code>uploads/invoice_logos/</code></li>
                    <li>Pastikan izin file sudah benar</li>
                </ul>

                <h4>404 Error untuk Gambar Watermark</h4>
                <ul>
                    <li>Periksa path gambar di template: <code>uploads/invoice_logos/filename</code></li>
                    <li>Periksa apakah upload file berhasil</li>
                    <li>Konfirmasi apakah file ada di server</li>
                </ul>

                <h4>Watermark Tersembunyi Di Balik Tabel</h4>
                <ul>
                    <li>Pastikan nilai <code>z-index</code> sudah diatur dengan benar</li>
                    <li>Tambahkan transparansi pada baris tabel</li>
                    <li>Periksa pengaturan posisi CSS</li>
                </ul>

                <h4>Form Tidak Menyimpan Pengaturan</h4>
                <ul>
                    <li>Verifikasi apakah semua field ada dalam array <code>$request->only()</code> di controller</li>
                    <li>Periksa apakah aturan validasi mencakup field watermark</li>
                    <li>Pastikan kolom di database sudah ada</li>
                </ul>

                <h4>Perizinan File</h4>
                <ul>
                    <li>Pastikan izin yang benar untuk direktori upload:</li>
                    <li><code>chmod 755 public/uploads/invoice_logos/</code></li>
                    <li><code>chown www-data:www-data public/uploads/invoice_logos/</code></li>
                </ul>
            </section>

            <section>
                <h2>Langkah 10: Opsi Kustomisasi</h2>
                <h3>Kustomisasi Lanjutan</h3>
                <h4>Tambah Opsi Posisi Lebih Banyak</h4>
                <p>Anda dapat memperluas dropdown posisi dengan opsi tambahan seperti:</p>
                <ul>
                    <li>Pusat atas</li>
                    <li>Pusat bawah</li>
                    <li>Koordinat kustom</li>
                </ul>

                <h4>Keterlacakan Dinamis</h4>
                <p>Terapkan kontrol slider untuk opasitas sebagai pengganti dropdown.</p>

                <h4>Watermark Berganda</h4>
                <p>Perluas untuk mendukung watermark ganda per faktur.</p>

                <h4>Watermark Kondisional</h4>
                <p>Tambahkan logika untuk menampilkan watermark yang berbeda berdasarkan jenis pelanggan, jumlah faktur,
                    dll.</p>
                <h3>Struktur File</h3>
                <p>Setelah implementasi, file utama Anda harus mencakup:</p>
                <ul class="tree">
                    <li>
                        <span class="tag">Diperbarui</span>
                        app/
                        <details>
                            <summary>InvoiceLayout.php (diperbarui)</summary>
                            <ul>
                                <li><span class="tag-new">Baru</span> Http/Controllers/InvoiceLayoutController.php
                                    (diperbarui)</li>
                            </ul>
                        </details>
                    </li>
                    <li>
                        <span class="tag-add">Baru</span>
                        database/migrations/
                        <details>
                            <summary>add_watermark_fields_to_invoice_layouts.php (baru)</summary>
                        </details>
                    </li>
                    <li>
                        <span class="tag">Diperbarui</span>
                        resources/
                        <details>
                            <summary>lang/en/lang_v1.php (diperbarui)</summary>
                        </details>
                        <ul>
                            <li>
                                <span class="tag">Diperbarui</span> views/
                                <details>
                                    <summary>invoice_layouts/create.blade.php (diperbarui)</summary>
                                </details>
                                <details>
                                    <summary>invoice_layouts/edit.blade.php (diperbarui)</summary>
                                </details>
                                <details>
                                    <summary>receipts/invoice_template.blade.php (diperbarui)</summary>
                                </details>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <span class="tag-new">Baru</span>
                        public/uploads/invoice_logos/ (penyimpanan watermark)
                    </li>
                </ul>
                </section>

                <section>>
                <h2>Pertimbangan Keamanan dan Kinerja</h2>

                <h3>Pertimbangan Keamanan</h3>
                <ul>
                    <li>Validasi gambar yang diunggah (jenis file, ukuran).</li>
                    <li>Implementasikan penamaan file yang tepat untuk mencegah konflik.</li>
                    <li>Atur izin file yang sesuai.</li>
                    <li>Pertimbangkan batas ukuran file untuk kinerja.</li>
                </ul>

                <h3>Catatan Kinerja</h3>
                <ul>
                    <li>Gambar watermark harus dioptimalkan untuk web.</li>
                    <li>Pertimbangkan penggunaan cache untuk watermark yang sering diakses.</li>
                    <li>Pantau penggunaan penyimpanan untuk watermark yang diunggah.</li>
                    <li>Implementasikan pembersihan untuk file watermark yang tidak digunakan.</li>
                </ul>

                <h3>Kesimpulan</h3>
                <p>Fitur watermark sekarang telah sepenuhnya diimplementasikan dalam sistem POS Anda. Pengguna
                    dapat mengunggah watermark kustom, menyesuaikan tampilannya, dan memposisikan watermark pada faktur
                    sambil menjaga keterbacaan teks.</p>
                <p>Untuk kustomisasi tambahan atau pemecahan masalah, lihat dokumentasi Laravel dan struktur kode POS.</p>
            </section>


            <footer>
                <!-- HOME -->
                <div class="home-button-wrapper">
                    <a href="../main.html" class="home-button">üè† Kembali ke Beranda</a>
                </div>
            </footer>
        </div>
    </div>
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <iframe id="modalFrame" src="" frameborder="0" style="width: 100%; height: 400px"></iframe>
        </div>
    </div>
    <button id="bubbleUp" title="Kembali ke Atas" aria-label="Kembali ke Atas">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="none" viewBox="0 0 24 24" stroke="white">
            <path stroke-linecap="round" stroke-width="2" d="M6 15l6-6 6 6" />
        </svg>
    </button>
    <div id="completionModal" class="completion-modal">
        <div class="completion-modal-content">
            <span class="completion-close" title="Tutup">&times;</span>
            <h3>üéâ Selamat, kamu telah menyelesaikan tutorialnya!</h3>
            <p>Apakah kamu ingin mengunduh file yang telah jadi?</p>
            <div class="completion-button-group">
                <a id="completion-download-btn" data-id="file_16" class="completion-btn completion-yes-btn">
                    ‚úÖ Ya
                </a>
                <button id="completion-no-btn" class="completion-btn completion-no-btn">
                    ‚ùå Tidak
                </button>
            </div>
        </div>
    </div>
    <script src="../js/scripts.js"></script>
    <script src="../js/sidebar.js"></script>
    <script src="../js/bubble.js"></script>
    <script src="../js/complete.js"></script>
    <script src="../js//Data/file_download_data.js"></script>
    <script src="../js//Data/pass_data.js"></script>
    <!-- Link ke file JavaScript -->
</body>

</html>